<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root{
      --bg: #f5f5f7;
      --card: #ffffff;
      --text: #0b0b0b;
      --muted: #eaeaec;
      --accent: #FFBFDE; /* —Ä–æ–∑–æ–≤—ã–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
      --shadow: 0 6px 18px rgba(0,0,0,.08);
    }
    /* —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ */
    body[data-theme="dark"]{
      --bg: #0f1115;
      --card: #171a20;
      --text: #f2f2f2;
      --muted: #22262e;
      --shadow: 0 6px 18px rgba(0,0,0,.35);
    }

    *{ box-sizing: border-box; }
    html,body{ height:100% }
    body{
      margin:0;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing: antialiased;
      line-height: 1.35;
    }

    .page{
      max-width: 460px;
      margin: 0 auto;
      padding: 16px;
    }

    .header{
      position: sticky;
      top: 0;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 8px;
      padding: 8px 0 12px;
      background: var(--bg);
      z-index: 10;
    }

    .theme-toggle{
      appearance: none;
      border: 1px solid var(--muted);
      background: var(--card);
      color: var(--text);
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 14px;
      cursor: pointer;
      box-shadow: var(--shadow);
    }

    .card{
      background: var(--card);
      border-radius: 16px;
      padding: 20px;
      box-shadow: var(--shadow);
    }

    h1{
      margin: 0 0 16px;
      font-size: 22px; /* –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ, –∫–∞–∫ –ø—Ä–æ—Å–∏–ª–∞ —Ä–∞–Ω–µ–µ */
      letter-spacing: -0.2px;
      line-height: 1.25;
    }
    .lead-title{
      display:block;
      font-weight: 800;
    }
    .lead-note{
      display:block;
      font-weight: 400;
      opacity:.85;
      font-size: 14px;
      margin-top: 6px;
    }

    .stack{
      display: grid;
      gap: 14px;
      margin-top: 12px;
    }

    .option{
      width: 100%;
      text-align: left;
      background: var(--muted);
      color: var(--text);
      border: 0;
      border-radius: 16px;
      padding: 16px 18px;
      font-size: 16px;
      cursor: pointer;
      transition: background .15s ease, transform .04s ease;
    }

    /* –Ω–∞–≤–µ–¥–µ–Ω–∏–µ/—Ñ–æ–∫—É—Å/–Ω–∞–∂–∞—Ç–∏–µ ‚Äî —Ä–æ–∑–æ–≤—ã–π */
    .option:hover,
    .option:focus-visible{ background: var(--accent); outline: none; }
    .option:active{ transform: translateY(1px); background: var(--accent); }

    /* –≤—ã–±—Ä–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
    .option.is-selected{ background: var(--accent); }

    .hint{
      opacity: .65;
      font-size: 13px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="header">
      <button class="theme-toggle" id="themeToggle">üåû / üåö</button>
    </div>

    <div class="card">
      <h1>
        <span class="lead-title">–ó–¥–µ—Å—å —Ç—ã —Å–º–æ–∂–µ—à—å —Å–æ–±—Ä–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –ø—Ä–æ–¥–∞—é—â–µ–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏</span>
        <span class="lead-note">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω</span>
      </h1>

      <div class="stack" id="menu">
        <button class="option" data-template="go">Go</button>
        <button class="option" data-template="market">–ú–∞—Ä–∫–µ—Ç</button>
        <button class="option" data-template="food">–ï–¥–∞</button>
      </div>

      <div class="hint">–ù–∞–∂–º–∏ –Ω–∞ —à–∞–±–ª–æ–Ω ‚Äî –æ–Ω –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—Å—è. –ù–∞–≤–µ–¥–µ–Ω–∏–µ –∏ –Ω–∞–∂–∞—Ç–∏–µ ‚Äî —Ä–æ–∑–æ–≤—ã–º.</div>
    </div>
  </div>

  <script>
    // Telegram: –≥–æ—Ç–æ–≤–æ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º
    Telegram?.WebApp?.ready?.();
    Telegram?.WebApp?.expand?.();

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
    const prefersDark = window.matchMedia?.('(prefers-color-scheme: dark)')?.matches;
    const tgScheme = Telegram?.WebApp?.colorScheme; // "dark" | "light"
    const saved = localStorage.getItem('theme');
    const initialTheme =
      saved || (tgScheme ? tgScheme : (prefersDark ? 'dark' : 'light'));
    document.body.setAttribute('data-theme', initialTheme);

    // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
    const toggle = document.getElementById('themeToggle');
    toggle.addEventListener('click', () => {
      const now = document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      document.body.setAttribute('data-theme', now);
      localStorage.setItem('theme', now);
    });

    // –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞
    const menu = document.getElementById('menu');
    menu.addEventListener('click', (e) => {
      const btn = e.target.closest('.option');
      if (!btn) return;
      // —Å–Ω–∏–º–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤—ã–±–æ—Ä
      menu.querySelectorAll('.option.is-selected').forEach(b => b.classList.remove('is-selected'));
      // –æ—Ç–º–µ—á–∞–µ–º —Ç–µ–∫—É—â–∏–π
      btn.classList.add('is-selected');
      // –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
      window.location.href = 'constructor.html';

      // —Å—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–∏–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –±–æ—Ç–æ–º –ø–æ–∑–∂–µ:
      // Telegram.WebApp.sendData(JSON.stringify({ template: btn.dataset.template }));
      // Telegram.WebApp.close();
    });
  </script>
</body>
</html>
